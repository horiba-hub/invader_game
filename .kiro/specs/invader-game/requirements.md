# 要件文書

## 概要

5面構成のインベーダーゲームを開発します。プレイヤーは宇宙船を操作して敵を倒し、面をクリアしていきます。敵を倒すと確率で新しい武器を獲得でき、面が進むにつれて段階的に難易度が上昇します。子供から大人まで楽しめる段階的な難易度設計を採用します。

## 要件

### 要件1

**ユーザーストーリー:** プレイヤーとして、宇宙船を左右に移動させて弾を発射し、敵を倒したい。

#### 受け入れ基準

1. WHEN プレイヤーが左右の矢印キーを押す THEN 宇宙船は対応する方向に移動する SHALL
2. WHEN プレイヤーがスペースキーを押す THEN 宇宙船から弾が発射される SHALL
3. WHEN 弾が敵に当たる THEN 敵は破壊され、スコアが加算される SHALL
4. WHEN 敵の弾がプレイヤーに当たる THEN プレイヤーのライフが減少する SHALL

### 要件2

**ユーザーストーリー:** プレイヤーとして、5つの面を段階的にプレイして、子供から大人まで楽しめる難易度体験をしたい。

#### 受け入れ基準

1. WHEN ゲームが開始される THEN ステージ1（チュートリアル）から始まる SHALL
2. WHEN ステージ1をクリアする THEN ステージ2（初級）に進む SHALL
3. WHEN ステージ2をクリアする THEN ステージ3（中級）に進む SHALL
4. WHEN ステージ3をクリアする THEN ステージ4（上級）に進む SHALL
5. WHEN ステージ4をクリアする THEN ステージ5（エキスパート）に進む SHALL
6. WHEN ステージ5をクリアする THEN ゲームクリア画面が表示される SHALL
7. WHEN ステージが進む THEN 敵の移動速度が段階的に速くなる SHALL
8. WHEN ステージが進む THEN 敵の数が段階的に増加する SHALL
9. WHEN ステージが進む THEN 敵の弾の発射頻度が段階的に上がる SHALL

### 要件3

**ユーザーストーリー:** プレイヤーとして、敵を倒した時に確率で新しい武器を獲得して、より強力な攻撃をしたい。

#### 受け入れ基準

1. WHEN 敵を倒す THEN 20%の確率で武器アイテムがドロップする SHALL
2. WHEN プレイヤーが武器アイテムを取得する THEN 現在の武器がアップグレードされる SHALL
3. WHEN 武器がアップグレードされる THEN 弾の威力、速度、または発射パターンが改善される SHALL
4. WHEN ゲームが開始される THEN プレイヤーは基本武器を持っている SHALL

### 要件4

**ユーザーストーリー:** プレイヤーとして、ゲームの状態（スコア、ライフ、現在の武器）を確認したい。

#### 受け入れ基準

1. WHEN ゲーム中 THEN 現在のスコアが画面に表示される SHALL
2. WHEN ゲーム中 THEN 残りライフが画面に表示される SHALL
3. WHEN ゲーム中 THEN 現在の武器レベルが画面に表示される SHALL
4. WHEN ライフが0になる THEN ゲームオーバー画面が表示される SHALL

### 要件5

**ユーザーストーリー:** プレイヤーとして、直感的で応答性の良いゲーム操作を体験したい。

#### 受け入れ基準

1. WHEN ゲームが実行される THEN 60FPSで滑らかに動作する SHALL
2. WHEN キーが押される THEN 遅延なく反応する SHALL
3. WHEN ゲームが開始される THEN スタート画面が表示される SHALL
4. WHEN ゲームオーバーまたはクリア THEN リスタートオプションが提供される SHALL

### 要件6

**ユーザーストーリー:** プレイヤーとして、各ステージで異なる挑戦と敵タイプに遭遇したい。

#### 受け入れ基準

1. WHEN ステージ1をプレイする THEN 基本敵のみが3×6編隊で登場する SHALL
2. WHEN ステージ2をプレイする THEN 基本敵が4×8編隊で登場する SHALL
3. WHEN ステージ3をプレイする THEN 強化敵を含む5×8編隊が登場する SHALL
4. WHEN ステージ4をプレイする THEN 複雑な編隊パターンの5×10編隊が登場する SHALL
5. WHEN ステージ5をプレイする THEN ボス敵と特殊攻撃パターンが登場する SHALL
6. WHEN 新しい敵タイプが登場する THEN 異なる行動パターンと能力を持つ SHALL